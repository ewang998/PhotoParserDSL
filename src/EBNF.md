```
PROGRAM      ::= CANVAS STATEMENT* "RENDER AS" FILENAME SEP
CANVAS       ::= "CANVAS" "WIDTH" int "HEIGHT" int "COLOR" COLOR SEP
COLOR        ::= ^#(?:[0-9a-fA-F]{3}){1,2}$

STATEMENT    ::= (PICTURE | CLONE | DRAW | MANIPULATION | WRITE | DEFINE) SEP
FILENAME     ::= \w+ "." EXT
EXT          ::= "png" | "jpeg" | "jpg"
IDENTIFIER   ::= [\w_]+
TEXT         ::= string
SEP          ::= ";"

PICTURE      ::= "LET" FILENAME "BE" IDENTIFIER
CLONE        ::= "CLONE" (IDENTIFIER | "CANVAS") "AS" IDENTIFIER
DRAW         ::= "DRAW TO CANVAS" (IDENTIFIER POSITION) ("," IDENTIFIER POSITION)*
MANIPULATION ::= "APPLY" COMMAND "TO" ("CANVAS" | IDENTIFIER)
WRITE        ::= "WRITE" TEXT ABSOLUTE_POSITION (IDENTIFIER | "CANVAS")
DEFINE       ::= "DECLARE" IDENTIFIER "AS" COMMAND ("AND" COMMAND)*

POSITION ::= COORDINATE_POSITION | RELATIVE_POSITION IDENTIFIER
COORDINATE_POSITION ::= "AT" "X" int "Y" int
RELATIVE_POSITION ::= "ABOVE" | "BELOW" | "TO THE LEFT OF" | "TO THE RIGHT OF"
ABSOLUTE_POSITION ::= "AT THE BOTTOM OF" | "AT THE TOP OF" | "TO THE LEFT OF" | "TO THE RIGHT OF"

COMMAND      ::= "BLUR" | ROTATE | "GREYSCALE" | RESIZE | FLIP | BRIGHTNESS | "INVERT" | "NORMALIZE" | "SEPIA" | IDENTIFIER
FLIP         ::= "FLIP" ("HORIZONTAL" | "VERTICAL")
ROTATE       ::= "ROTATE" [0-360]
BRIGHTNESS   ::= "BRIGHTNESS" [-1,1]
RESIZE       ::= "RESIZE" "WIDTH" int "HEIGHT" int
```